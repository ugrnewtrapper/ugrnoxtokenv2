<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>NOX Premium ‚Ä¢ An√°lises Avan√ßadas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root{
      --neon:#00ff9c;
      --soft:#94a3b8;
    }

    body {
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background:
        radial-gradient(600px at top, rgba(0,255,156,.15), transparent 60%),
        linear-gradient(180deg, #020617, #01030f);
      color: #fff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: 480px;
      background: linear-gradient(180deg, rgba(15,23,42,.95), rgba(2,6,23,.98));
      border-radius: 24px;
      padding: 32px 30px;
      text-align: center;
      box-shadow:
        0 24px 70px rgba(0,0,0,.7),
        inset 0 0 0 1px rgba(0,255,156,.18);
    }

    .logo {
      max-width: 120px;
      margin: 0 auto 16px;
      display: block;
    }

    h1 { margin: 6px 0 4px; font-size: 24px; }
    .version { font-size: 12px; color: var(--soft); margin-bottom: 24px; }

    .info, .status, .results {
      margin-bottom: 22px;
      padding: 16px;
      border-radius: 16px;
      font-size: 14px;
    }

    .info {
      background: rgba(0,255,156,.08);
      border: 1px solid rgba(0,255,156,.25);
    }

    label {
      display: block;
      margin-top: 18px;
      font-size: 13px;
      color: var(--soft);
    }

    input {
      width: 100%;
      padding: 14px;
      margin-top: 6px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(2,6,23,.9);
      color: #fff;
      font-size: 15px;
      text-align: center;
    }

    button {
      width: 100%;
      padding: 16px;
      border-radius: 18px;
      border: none;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 14px;
    }

    button.primary {
      background: linear-gradient(135deg, #00ff9c, #00c777);
      color: #00150c;
    }

    button.secondary {
      background: transparent;
      border: 1px solid rgba(0,255,156,.5);
      color: var(--neon);
    }

    .results {
      background: rgba(2,6,23,.85);
      border: 1px solid rgba(255,255,255,.08);
      text-align: left;
    }

    .competition { margin-bottom: 12px; }
    .competition h3 {
      cursor: pointer;
      color: var(--neon);
      font-size: 15px;
      margin: 8px 0;
    }

    .matches { margin-left: 8px; }
    .match {
      padding: 6px 8px;
      margin: 4px 0;
      border-radius: 10px;
      cursor: pointer;
      background: rgba(255,255,255,.06);
    }

    .match:hover { background: rgba(0,255,156,.18); }
    .match.selected {
      background: rgba(0,255,156,.35);
      color: #00150c;
      font-weight: 600;
    }
  </style>
</head>

<body>
<div class="container">

  <img src="images/logo.png" class="logo" alt="NOX Logo">

  <h1>NOX Premium</h1>
  <div class="version">P√°gina 5 ‚Ä¢ v1.3</div>

  <div class="info">
    üîê Utilize esta p√°gina no <strong>navegador da sua carteira</strong>.<br><br>
    üí° Cada pagamento libera <strong>1 an√°lise Premium</strong>.
  </div>

  <label>API Key ‚Ä¢ API-Football</label>
  <input id="apikey" type="text" placeholder="Cole sua API Key">

  <label>Data da an√°lise</label>
  <input id="date" type="date">

  <button class="secondary" onclick="loadCompetitions()">
    üìÖ Carregar Partidas
  </button>

  <div id="competitions" class="results"></div>

  <div class="status" id="paymentStatus">
    üîí Acesso bloqueado. Efetue o pagamento.
  </div>

  <button class="primary" id="analyzeBtn" disabled>
    üîé Analisar partida
  </button>

  <div class="results" id="results">
    <strong>Resultados Premium</strong><br><br>
    Os dados aparecer√£o ap√≥s a an√°lise.
  </div>

</div>

<!-- =============================
     JS INLINE ‚Äî LISTAGEM (ANTIGO)
============================= -->
<script>
const BACKEND_LIST = "https://backendnoxv2.srrimas2017.workers.dev";
let selectedFixture = null;

async function loadCompetitions() {
  const apiKey = document.getElementById("apikey").value.trim();
  const date = document.getElementById("date").value;
  const box = document.getElementById("competitions");

  if (!apiKey || !date) {
    alert("Informe API Key e data");
    return;
  }

  box.innerHTML = "‚è≥ Carregando competi√ß√µes...";

  const res = await fetch(BACKEND_LIST, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ apiKey, date })
  });

  const data = await res.json();

  let html = "";
  data.competitions.forEach((c,i)=>{
    html += `
      <div class="competition">
        <h3 onclick="toggleComp(${i},event)">üèÜ ${c.league} (${c.country})</h3>
        <div class="matches" id="comp-${i}">
    `;
    c.matches.forEach(m=>{
      html += `
        <div class="match" data-fixture="${m.fixtureId}"
          onclick="selectMatch(event,this)">
          ‚è∞ ${m.time} - ${m.home} x ${m.away}
        </div>
      `;
    });
    html += `</div></div>`;
  });

  box.innerHTML = html;
}

function toggleComp(i,e){
  e.stopPropagation();
  const el = document.getElementById("comp-"+i);
  el.style.display = el.style.display === "none" ? "block" : "none";
}

function selectMatch(e,el){
  e.stopPropagation();
  document.querySelectorAll(".match").forEach(m=>m.classList.remove("selected"));
  el.classList.add("selected");
  selectedFixture = el.dataset.fixture;
}
</script>

<!-- Premium / pagamento -->
<script type="module" src="money/walletv12.js"></script>
<script src="statistics/statistics.js"></script>

</body>
</html>
