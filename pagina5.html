<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Teste Pagamento walletv12</title>
</head>
<body>

<h2>Teste SOMENTE Pagamento + /analysis</h2>
<button id="btn">Comprar AnÃ¡lise</button>
<pre id="log"></pre>

<script type="module">
import { payAndAnalyze } from "./money/walletv12.js";

const API_KEY = "SUA_API_KEY_AQUI";

// fixtureId arbitrÃ¡rio sÃ³ para teste do fluxo
const FIXTURE_ID_TESTE = 123456;

const log = (msg) => {
  document.getElementById("log").textContent += msg + "\n";
};

document.getElementById("btn").onclick = async () => {
  try {
    log("ğŸ’³ Iniciando pagamento on-chain...");
    log(`ğŸ¯ FixtureId teste: ${FIXTURE_ID_TESTE}`);

    const result = await payAndAnalyze(
      FIXTURE_ID_TESTE,
      API_KEY
    );

    log("âœ… PAGAMENTO CONCLUÃDO");
    log(JSON.stringify(result, null, 2));

  } catch (err) {
    log("âŒ ERRO:");
    log(err.message || err);
    console.error(err);
  }
};
</script>

</body>
</html>
