<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NOX Football Analytics</title>  <style>
    :root {
      --blue: #0d6efd;
      --blue-dark: #084298;
      --bg: #f4f8ff;
    }

    * { box-sizing: border-box; font-family: Arial, Helvetica, sans-serif; }

    body {
      margin: 0;
      background: linear-gradient(180deg, #eaf2ff, #ffffff);
      color: #0b1c33;
      text-align: center;
    }

    header {
      padding: 25px 15px 15px;
      animation: fadeIn 1s ease;
    }

    header img {
      max-width: 140px;
      margin-bottom: 10px;
      animation: pulse 3s infinite;
    }

    header p {
      max-width: 720px;
      margin: 0 auto;
      font-size: 1rem;
      opacity: 0.9;
    }

    main {
      max-width: 900px;
      margin: 20px auto;
      padding: 0 15px 40px;
    }

    .card {
      background: #fff;
      border-radius: 14px;
      padding: 20px;
      margin: 15px 0;
      box-shadow: 0 10px 25px rgba(13,110,253,0.15);
      animation: slideUp 0.6s ease;
    }

    label { display: block; font-weight: bold; margin-top: 10px; }

    input {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 8px;
      border: 1px solid #cbd9ff;
      font-size: 1rem;
    }

    button {
      margin-top: 15px;
      padding: 12px 20px;
      font-size: 1rem;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      background: linear-gradient(135deg, var(--blue), var(--blue-dark));
      color: #fff;
      transition: transform .2s, box-shadow .2s;
      box-shadow: 0 8px 20px rgba(13,110,253,0.35);
    }

    button:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 12px 30px rgba(13,110,253,0.45);
    }

    .link {
      display: inline-block;
      margin-top: 10px;
      color: var(--blue);
      font-weight: bold;
      text-decoration: none;
    }

    .competitions { text-align: left; }

    .league {
      margin-top: 15px;
      border-left: 4px solid var(--blue);
      padding-left: 10px;
    }

    .league h3 { margin: 5px 0; }

    .match {
      padding: 8px;
      margin: 5px 0;
      background: #f1f6ff;
      border-radius: 8px;
      cursor: pointer;
      transition: background .2s;
    }

    .match:hover { background: #dbe7ff; }

    .selected { background: #c7dcff !important; font-weight: bold; }

    pre {
      text-align: left;
      background: #0b1c33;
      color: #e6edff;
      padding: 15px;
      border-radius: 12px;
      overflow-x: auto;
    }

    footer {
      padding: 20px;
      font-size: 0.9rem;
      opacity: 0.8;
    }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.05)} }
  </style></head><body><header>
  <img src="images/logo.png" alt="NOX Logo" />
  <p>‚öΩ An√°lise avan√ßada de futebol com dados reais da API-Football. Selecione a competi√ß√£o, escolha a partida e gere estat√≠sticas completas automaticamente. üöÄ</p>
</header><main>  <div class="card">
    <label>üîë API Key (API-Football)</label>
    <input id="apiKey" placeholder="Cole sua API Key aqui" /><label>üìÖ Data da competi√ß√£o</label>
<input id="date" type="date" />

<button onclick="loadCompetitions()">üìä Carregar Competi√ß√µes</button>
<br />
<a class="link" href="https://www.api-football.com/register" target="_blank">üëâ Criar conta na API-Football</a>

  </div>  <div class="card competitions" id="competitions"></div>  <div class="card" id="analyzeCard" style="display:none">
    <button onclick="analyzeMatch()">üîç Analisar Partida</button>
  </div>  <div class="card" id="result" style="display:none">
    <h3>üìà Resultado da An√°lise</h3>
    <pre id="output"></pre>
  </div>  <div class="card">
    <button onclick="location.reload()">üè† Index ‚Äì P√°gina Inicial</button>
  </div></main><footer>
  üîµ NOX Football Analytics ‚Äì Vers√£o 1.0 Pro
</footer><script>
  const BACKEND = "https://backendnoxv2.srrimas2017.workers.dev/";
  let selectedFixture = null;

  async function loadCompetitions() {
    const apiKey = apiKeyEl.value;
    const date = dateEl.value;

    if (!apiKey || !date) return alert("Informe API Key e data");

    competitions.innerHTML = "‚è≥ Carregando competi√ß√µes...";

    const res = await fetch(BACKEND, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ apiKey, date })
    });

    const data = await res.json();
    competitions.innerHTML = "";

    (data.competitions || []).forEach(l => {
      const div = document.createElement("div");
      div.className = "league";
      div.innerHTML = `<h3>${l.league} (${l.country})</h3>`;

      l.matches.forEach(m => {
        const md = document.createElement("div");
        md.className = "match";
        md.textContent = `‚è± ${m.time} ‚Äì ${m.home} x ${m.away}`;
        md.onclick = () => selectMatch(md, m.fixtureId);
        div.appendChild(md);
      });

      competitions.appendChild(div);
    });
  }

  function selectMatch(el, fixtureId) {
    document.querySelectorAll('.match').forEach(m => m.classList.remove('selected'));
    el.classList.add('selected');
    selectedFixture = fixtureId;
    analyzeCard.style.display = 'block';
    el.scrollIntoView({ behavior: 'smooth', block: 'center' });
  }

  async function analyzeMatch() {
    const apiKey = apiKeyEl.value;
    const date = dateEl.value;

    result.style.display = 'block';
    output.textContent = '‚è≥ Analisando...';

    const res = await fetch(BACKEND, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ apiKey, date, fixtureId: selectedFixture })
    });

    const data = await res.json();
    output.textContent = JSON.stringify(data, null, 2);
  }

  const apiKeyEl = document.getElementById('apiKey');
  const dateEl = document.getElementById('date');
  const competitions = document.getElementById('competitions');
  const analyzeCard = document.getElementById('analyzeCard');
  const result = document.getElementById('result');
  const output = document.getElementById('output');
</script></body>
</html>
